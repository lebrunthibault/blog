@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
}

/* Self-hosted Montserrat font */
@font-face {
    font-family: 'Montserrat';
    font-style: normal;
    font-weight: 300;
    font-display: swap;
    size-adjust: 107%;
    src: url('/fonts/montserrat-300.woff2') format('woff2');
}

@font-face {
    font-family: 'Montserrat';
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    size-adjust: 107%;
    src: url('/fonts/montserrat-400.woff2') format('woff2');
}

@font-face {
    font-family: 'Montserrat';
    font-style: normal;
    font-weight: 500;
    font-display: swap;
    size-adjust: 107%;
    src: url('/fonts/montserrat-500.woff2') format('woff2');
}

@font-face {
    font-family: 'Montserrat';
    font-style: normal;
    font-weight: 600;
    font-display: swap;
    size-adjust: 107%;
    src: url('/fonts/montserrat-600.woff2') format('woff2');
}

@font-face {
    font-family: 'Montserrat';
    font-style: normal;
    font-weight: 700;
    font-display: swap;
    size-adjust: 107%;
    src: url('/fonts/montserrat-700.woff2') format('woff2');
}

/* Force Montserrat everywhere */
@layer base {
    * {
        font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
        font-weight: 400;
    }

    html {
        font-size: 15px;
        line-height: 1.7;
    }

    body {
        letter-spacing: 0.01em;
    }

    h1 {
        @apply text-2xl sm:text-2xl mt-3 mb-4 pt-2;
        font-weight: 500;
        letter-spacing: -0.01em;
    }
    h2 {
        @apply text-xl sm:text-xl mt-8 mb-4 pt-2;
        font-weight: 500;
        letter-spacing: -0.01em;
    }
    h3 {
        @apply text-lg mt-6 mb-3;
        font-weight: 500;
    }
    h4 {
        @apply text-base sm:text-lg mt-5 mb-3;
        font-weight: 500;
    }
    h5 {
        @apply text-sm sm:text-base mt-4 mb-2;
        font-weight: 500;
    }
    h6 {
        @apply text-sm sm:text-base mt-4 mb-2;
        font-weight: 500;
    }

    main section {
        a {
            @apply transition-all duration-200 border-b-2 border-yinmn-blue hover:border-shadow-blue
        }

    }

    article {
        .post-content a {
            @apply transition-all duration-200 border-b border-yinmn-blue hover:border-shadow-blue;
        }
        ul {
            list-style-type: "â€“ ";
            @apply pl-5;
        }

        /* Better section spacing in articles */
        .post-content > * + * {
            @apply mt-4;
        }

        .post-content > h2 {
            @apply mt-10;
        }

        .post-content > h3 {
            @apply mt-8;
        }
    }

    p {
        font-weight: 400;
        @apply text-sm sm:text-base mb-4;
        line-height: 1.75;
    }

    /* Reduce bold intensity - use medium weight instead */
    strong, b {
        font-weight: 500;
        color: #e5e5e5;
    }

    hr {
        @apply my-8;
        border-color: #222;
    }

    blockquote {
        @apply p-4 my-6 border-s-4 border-yinmn-blue bg-oxford-blue;
        line-height: 1.7;
    }

    /* Better list spacing */
    ul, ol {
        @apply my-4;
    }

    li {
        @apply mb-2;
        line-height: 1.7;
    }

    /* Table styling */
    table {
        @apply my-6;
    }

    th, td {
        @apply py-3 px-4;
    }

    #TableOfContents {
        > ul > li {
            @apply mb-3;
        }
        ul {
            a {
                @apply inline-block hover:bg-oxford-blue px-2 py-1 rounded text-sm sm:text-base;
                color: #a3a3a3;
                line-height: 1.5;
            }
            a:hover {
                color: #d4d4d4;
            }
            ul {
                @apply pl-4 sm:pl-6 mt-1;
                a {
                    @apply text-xs sm:text-sm;
                }
            }
        }

    }

    /* Custom scrollbar for TOC sidebar */
    #toc-sidebar {
        scrollbar-width: thin;
        scrollbar-color: #333 #161616;
        overflow-x: hidden;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }

    #toc-sidebar * {
        word-wrap: break-word;
        overflow-wrap: break-word;
        max-width: 100%;
    }

    #toc-sidebar::-webkit-scrollbar {
        width: 10px;
        height: 0;
    }

    #toc-sidebar::-webkit-scrollbar-track {
        background: #161616;
        border-radius: 5px;
        margin: 4px 0;
    }

    #toc-sidebar::-webkit-scrollbar-thumb {
        background: #333;
        border-radius: 5px;
        border: 2px solid #161616;
    }

    #toc-sidebar::-webkit-scrollbar-thumb:hover {
        background: #444;
    }

    /* Responsive TOC positioning */
    #toc-sidebar {
        left: max(1rem, calc((100vw - 896px) / 2 - 260px));
    }

    @media (max-width: 1536px) {
        #toc-sidebar {
            width: 300px;
        }
    }

    @media (min-width: 1536px) {
        #toc-sidebar {
            left: max(1rem, calc((100vw - 1024px) / 2 - 260px));
        }
    }
}